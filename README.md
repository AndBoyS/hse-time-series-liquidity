## Проект предсказания ликвидности по предмету Анализ данных с временной структурой

Участники: Корякин Алексей, Свиридов Иван, Хрущев Сергей, Бахматов Андрей

[Визуальный road map](https://docs.google.com/presentation/d/1SJ4jn2oHh3Q_JKdAn9F32oY4U1V2Z5BausI0R-rEA1w/edit?usp=sharing)

Описание файлов:

**tslib** - разработанная библиотека для проекта, в которой содержатся следующие модули:
- *calibrate.py* - модуль калибровки модели
- *cusum_finder.py* и *shiryaev_roberts_finder.py* - модуля обнаружения разладки среднего через кумулятивные суммы и дисперсии через статистику Ширяева-Робертса
- *scoring.py* - модуль описания основных метрик
- *feature_selection.py* - модуль отброса признаков

**notebooks** - папка с демонстрацией работы библиотеки и пайплайном
- *Breakpoint-finding.ipynb* - демонстрация работы метода поиска разладок
- *Feature-selection.ipynb* - работа метода отброса признаков
- *Profit.ipynb* - демонстрация работы алгоритма расчета профита
- *Summary.ipynb* - работа пайплайна
- *parsing_notebook.ipynb* - парсинг данных для получения признаков

**data** - папка, содержащая данные, полученные с использованием парсинга

В рамках проекта №2 требуется реализовать автоматизированный пайплайн для прогнозирования значений верменного ряда на следуюбщий день.

Ряды представляют из себя срезы в обозначенные моменты времени притоков, оттоков и сальдо показателя, связанного с потоками ликвидности Банка.
Прогноз требуется строить для значения сальдо (разнинцы между притоками и оттоками).
Заказчик модели высказал пожелание, чтобы ошибка прогноза составляла не более 0.42 в абсолютном значении

Требования к модели:
- Выбор оптимизируемой метрики должен быть основан на потребностях бизнеса
- Модель может использовать внешние факторы (см подсказки)
- Модель должна иметь модуль отбора признаков. Метод отбора должен быть болеее стабильным относительно альтернатив. Сравнение должно быть проведено минимум с одним методом из каждой категории: встроенные, оберточные и фильтрационные. При этом как минимум одна из альтернатив должа исследовать нелинейную зависимость.
- Модель должна втоматически подбирать гиперпараметры, оптимизируя целевую метрику
- Для модели должна быть подобрана частота калиброки, если модель калибруется долго, и проверена ее достаточность
- Блоки должны быть подписаны и кратко описаны (чем руководствовались при реализации, как работает)
- Модель должна автоматически дообучаться. Все модули должны работать без ручных корректировок. Выбор периода для дообучения должен быть обоснован.
- В модели должен быть модуль выявления разладки для подачи сигнала о возможной необходимости переключения на на ручное управление процессом/внеплановое дообучение

Подсказки:
- Можно использовать факторы, сконструированные из таргета (лаги, средние и т.п.)
- Могут помочь макроэкономические факторы
- Могут помочь даты налоговых дней
- Описание бизнес-процесса:
- Прогнозная величина позволяет установить сальдо поступлений и списаний за день.
- На основании прогноза позиционер (управляет ликвидностью) принимает решение о выделении средств на размещение на рынке деривативов для получения дополнительной маржи (доходность считать примерно ключ+0.5%)
- В случае, если на конец дня образуется профицит ликвидности, его можно разместить в ЦБ по overnight ставке, равной ключу-0.9%
- В случае, если на конец дня образуется дефицит ликвидности, его можно покрыть за счет займа по overnight ставке, равной ключ+1%
